(window.webpackJsonpvtex_product_summary_2_89_0=window.webpackJsonpvtex_product_summary_2_89_0||[]).push([["ProductSummaryList"],{0:function(t,e){t.exports=React},109:function(t,e,i){"use strict";i.r(e);var r=i(31),n=i.n(r),a=i(36),o=i(10),s=i(0),u=i.n(s),c=i(29),d=i(70),m=i.n(d),l=i(71),p=i.n(l),y=i(72),_=i.n(y),S=i(2),v=i(8),E=i(52),f=function(){var t=Object(v.useRuntime)().rootPath;return{getShippingOptionFromSession:Object(s.useCallback)(Object(a.a)(n.a.mark((function e(){var i,r,a,o,s,u,c,d;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(s=new Headers).append("Content-Type","application/json"),u={method:"GET",headers:s,redirect:"follow"},e.next=5,fetch("".concat(null!=t?t:"","/api/sessions?items=public.shippingOption"),u);case 5:return c=e.sent,e.next=8,c.json();case 8:if(d=e.sent,null===(a=null===(r=null===(i=null==d?void 0:d.namespaces)||void 0===i?void 0:i.public)||void 0===r?void 0:r.shippingOption)||void 0===a?void 0:a.value){e.next=11;break}return e.abrupt("return",null);case 11:return e.abrupt("return",null===(o=JSON.parse(d.namespaces.public.shippingOption.value))||void 0===o?void 0:o.map((function(t){return t.value})));case 12:case"end":return e.stop()}}),e)}))),[t])}},L={RELEVANCE:{name:"admin/editor.productSummaryList.orderType.relevance",value:""},TOP_SALE_DESC:{name:"admin/editor.productSummaryList.orderType.sales",value:"OrderByTopSaleDESC"},PRICE_DESC:{name:"admin/editor.productSummaryList.orderType.priceDesc",value:"OrderByPriceDESC"},PRICE_ASC:{name:"admin/editor.productSummaryList.orderType.priceAsc",value:"OrderByPriceASC"},NAME_ASC:{name:"admin/editor.productSummaryList.orderType.nameAsc",value:"OrderByNameASC"},NAME_DESC:{name:"admin/editor.productSummaryList.orderType.nameDesc",value:"OrderByNameDESC"},RELEASE_DATE_DESC:{name:"admin/editor.productSummaryList.orderType.releaseDate",value:"OrderByReleaseDateDESC"},BEST_DISCOUNT_DESC:{name:"admin/editor.productSummaryList.orderType.discount",value:"OrderByBestDiscountDESC"}};function x(t){if(!v.canUseDOM)return null;for(var e="".concat(t,"="),i=decodeURIComponent(document.cookie).split(";"),r=0;r<i.length;r++){for(var n=i[r];" "===n.charAt(0);)n=n.substring(1);if(0===n.indexOf(e))return n.substring(e.length,n.length)}return""}var O=function(t){var e=t.id,i=t.value;return"specificationFilter_".concat(e,":").concat(i)};function C(t){return Object.keys(L).map((function(e){return L[e][t]}))}function N(t){var e=t.category,i=void 0===e?"":e,r=t.collection,d=t.hideUnavailableItems,l=void 0!==d&&d,y=t.orderBy,v=void 0===y?L.RELEVANCE.value:y,C=t.specificationFilters,N=void 0===C?[]:C,b=t.maxItems,R=void 0===b?10:b,T=t.skusFilter,g=t.installmentCriteria,A=t.children,h=t.listName,P=t.ProductSummary,D=t.actionOnProductClick,I=t.preferredSKU,k=Object(s.useState)([]),j=Object(o.a)(k,2),F=j[0],B=j[1],M=f().getShippingOptionFromSession;Object(s.useEffect)((function(){function t(){return(t=Object(a.a)(n.a.mark((function t(){var e;return n.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,M();case 2:(e=t.sent)&&B((function(t){return Object(S.equals)(t,e)?t:e}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[M]);var w=p()().push,U=Object(c.useQuery)(m.a,{variables:Object.assign(Object.assign({category:i},null!=r?{collection:r}:{}),{specificationFilters:N.map(O),orderBy:v,from:0,to:R-1,shippingOptions:F,hideUnavailableItems:l,skusFilter:T,installmentCriteria:g,variant:x("sp-variant")})}),H=U.data,V=U.loading,J=U.error,W=(null!=H?H:{}).products,X=h||"List of products",K=Object(s.useCallback)((function(t,e){null==D||D(t);var i=(null!=e?e:{}).position;w({event:"productClick",list:X,product:t,position:i})}),[w,D,X]);return V||J?null:u.a.createElement(E.default,{products:W,listName:X,ProductSummary:P,actionOnProductClick:K,preferredSKU:I},u.a.createElement(_.a,{products:W}),A)}N.schema={title:"admin/editor.productSummaryList.title",description:"admin/editor.productSummaryList.description",type:"object",properties:{category:{title:"admin/editor.productSummaryList.category.title",description:"admin/editor.productSummaryList.category.description",type:"string",isLayout:!1},specificationFilters:{title:"admin/editor.productSummaryList.specificationFilters.title",type:"array",items:{title:"admin/editor.productSummaryList.specificationFilters.item.title",type:"object",properties:{id:{type:"string",title:"admin/editor.productSummaryList.specificationFilters.item.id.title"},value:{type:"string",title:"admin/editor.productSummaryList.specificationFilters.item.value.title"}}}},collection:{title:"admin/editor.productSummaryList.collection.title",type:"string",isLayout:!1},orderBy:{title:"admin/editor.productSummaryList.orderBy.title",type:"string",enum:C("value"),enumNames:C("name"),default:L.RELEVANCE.value,isLayout:!1},hideUnavailableItems:{title:"admin/editor.productSummaryList.hideUnavailableItems",type:"boolean",default:!1,isLayout:!1},maxItems:{title:"admin/editor.productSummaryList.maxItems.title",type:"number",isLayout:!1,default:10},skusFilter:{title:"admin/editor.productSummaryList.skusFilter.title",description:"admin/editor.productSummaryList.skusFilter.description",type:"string",default:"ALL_AVAILABLE",enum:["ALL_AVAILABLE","ALL","FIRST_AVAILABLE"],enumNames:["admin/editor.productSummaryList.skusFilter.all-available","admin/editor.productSummaryList.skusFilter.none","admin/editor.productSummaryList.skusFilter.first-available"]},installmentCriteria:{title:"admin/editor.productSummaryList.installmentCriteria.title",description:"admin/editor.productSummaryList.installmentCriteria.description",type:"string",default:"MAX_WITHOUT_INTEREST",enum:["MAX_WITHOUT_INTEREST","MAX_WITH_INTEREST"],enumNames:["admin/editor.productSummaryList.installmentCriteria.max-without-interest","admin/editor.productSummaryList.installmentCriteria.max-with-interest"]},listName:{title:"admin/editor.productSummaryList.analyticsListName.title",type:"string"}}};e.default=N},2:function(t,e){t.exports=R},21:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.product-list-context@0.x/ProductListContext"]},29:function(t,e){t.exports=ReactApollo},49:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.list-context@0.x/useListContext"]},50:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.list-context@0.x/ListContextProvider"]},51:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.product-list-context@0.x/useProductImpression"]},56:function(t,e){t.exports=regeneratorRuntime},70:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.store-resources@0.x/QueryProducts"]},71:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.pixel-manager@1.x/usePixel"]},72:function(t,e){t.exports=__RENDER_8_COMPONENTS__["vtex.structured-data@0.x/ProductList"]},8:function(t,e){t.exports=__RENDER_8_RUNTIME__},90:function(t,e,i){"use strict";i.r(e),function(t){var e=i(4);i.p=Object(e.getPublicPath)("vtex.product-summary@2.89.0");var r=Object(e.register)((function(){return i(109)}),t,"vtex.product-summary@2.89.0","vtex.product-summary@2.x","ProductSummaryList");r.renderHotReload,r.setupHMR}.call(this,i(12)(t))}},[[90,"common",0]]]);